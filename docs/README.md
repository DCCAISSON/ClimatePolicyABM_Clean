# å¤šæ™ºèƒ½ä½“æ°”å€™æ”¿ç­–æ¨¡å‹ (Climate Policy ABM) - ç®€åŒ–ç‰ˆæœ¬

## ğŸ“‹ ç›®å½•
- [æ¨¡å‹æ¦‚è¿°](#æ¨¡å‹æ¦‚è¿°)
- [æ™ºèƒ½ä½“æ¶æ„è®¾è®¡](#æ™ºèƒ½ä½“æ¶æ„è®¾è®¡)
- [é¢„æœŸå½¢æˆæœºåˆ¶](#é¢„æœŸå½¢æˆæœºåˆ¶)
- [å¸‚åœºæ¨¡å—ä½“ç³»](#å¸‚åœºæ¨¡å—ä½“ç³»)
- [ç†è®ºåŸºç¡€](#ç†è®ºåŸºç¡€)
- [æ ¸å¿ƒæ”¹è¿›](#æ ¸å¿ƒæ”¹è¿›)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [æ ¡å‡†ä¸éªŒè¯](#æ ¡å‡†ä¸éªŒè¯)
- [å®éªŒè®¾è®¡](#å®éªŒè®¾è®¡)
- [ç»“æœåˆ†æ](#ç»“æœåˆ†æ)
- [æ‰©å±•æŒ‡å—](#æ‰©å±•æŒ‡å—)
- [æŠ€æœ¯æ–‡æ¡£](#æŠ€æœ¯æ–‡æ¡£)

## ğŸ¯ æ¨¡å‹æ¦‚è¿°

### ç ”ç©¶ç›®æ ‡
æœ¬æ¨¡å‹æ—¨åœ¨ç ”ç©¶æ°”å€™æ”¿ç­–ï¼ˆç‰¹åˆ«æ˜¯æ’æ”¾ç¨ã€ç»¿è‰²è¡¥è´´ç­‰ï¼‰å¯¹å†œä¸šç³»ç»Ÿä¸­ä¼ä¸šå¼‚è´¨æ€§ã€æŠ€æœ¯åˆ›æ–°å’Œå¸‚åœºç»“æ„çš„å½±å“æœºåˆ¶ã€‚é€šè¿‡å¤šæ™ºèƒ½ä½“å»ºæ¨¡æ–¹æ³•ï¼Œåˆ†ææ”¿ç­–å¹²é¢„å¦‚ä½•é€šè¿‡å½±å“ä¼ä¸šçš„æŠ€æœ¯é€‰æ‹©ã€äº§å“è´¨é‡æŠ•èµ„å’Œå¸‚åœºè¡Œä¸ºï¼Œæœ€ç»ˆæ¨åŠ¨æ•´ä¸ªå†œä¸šç³»ç»Ÿçš„ç»¿è‰²è½¬å‹ã€‚

### æ ¸å¿ƒç ”ç©¶é—®é¢˜
1. **ä¼ä¸šå¼‚è´¨æ€§å½±å“**ï¼šä¸åŒæŠ€æœ¯æ°´å¹³å’Œè´¨é‡æŠ•èµ„çš„ä¼ä¸šå¦‚ä½•å“åº”æ°”å€™æ”¿ç­–ï¼Ÿ
2. **å¸‚åœºæœºåˆ¶è®¾è®¡**ï¼šåŸºäºè´¨é‡çš„ä¾›éœ€åŒ¹é…å¦‚ä½•å½±å“æ”¿ç­–æ•ˆæœï¼Ÿ
3. **æŠ€æœ¯æ‰©æ•£è·¯å¾„**ï¼šç»¿è‰²æŠ€æœ¯åœ¨å¼‚è´¨æ€§ä¼ä¸šé—´çš„æ‰©æ•£æœºåˆ¶ï¼Ÿ
4. **æ”¿ç­–æœ€ä¼˜åŒ–**ï¼šä¸åŒæ”¿ç­–å·¥å…·çš„æ•ˆæœå·®å¼‚åŠæœ€ä¼˜ç»„åˆï¼Ÿ
5. **é¢„æœŸå½¢æˆæœºåˆ¶**ï¼šæ™ºèƒ½ä½“å¦‚ä½•åŸºäºå†å²æ•°æ®å½¢æˆå¯¹æœªæ¥çŠ¶æ€çš„é¢„æœŸï¼Ÿ

### ç®€åŒ–è®¾è®¡åŸåˆ™

æ ¹æ®ç»æµå­¦ç†è®ºï¼Œæœ¬æ¨¡å‹é‡‡ç”¨ç®€åŒ–ä½†ç§‘å­¦çš„ä¼ä¸šè®¾å®šï¼š

#### **ä¼ä¸šå¼‚è´¨æ€§çš„ç»æµå­¦åŸºç¡€**
æ¯ä¸ªä¼ä¸š $i$ï¼ˆ$i = 1, 2, ..., I = \sum_s I_s$ï¼‰ç”Ÿäº§ä¸€ç§ä¸»è¦äº§å“ $g$ï¼ˆ$g = 1, 2, ..., G$ï¼‰ï¼Œä½¿ç”¨åŠ³åŠ¨åŠ›ã€èµ„æœ¬å’Œæ¥è‡ªå…¶ä»–ä¼ä¸šçš„ä¸­é—´æŠ•å…¥ã€‚ä¼ä¸š $i$ éš¶å±äºæŸä¸ªäº§ä¸šæˆ–éƒ¨é—¨ $s$ï¼ˆ$s = 1, 2, ..., S$ï¼‰ï¼Œæ¯ä¸ªäº§ä¸šæœ‰ $I_s$ ä¸ªä¼ä¸šã€‚

**å…³é”®è®¾å®š**ï¼š
- **åŒç±»å‹ä¼ä¸šåªç”Ÿäº§ä¸€ç§äº§å“**ï¼Œä½†æ¯ä¸ªä¼ä¸šç”Ÿäº§çš„è¿™ç§äº§å“å…·æœ‰**å¼‚è´¨æ€§**
- **å¼‚è´¨æ€§æ¥æº**ï¼šæŠ€æœ¯æ°´å¹³ã€è´¨é‡æŠ•èµ„ã€ç ”å‘æŠ•èµ„ã€å£°èª‰ç­‰ç§‘å­¦åŒ–æŒ‡æ ‡
- **ä¸ç¡®å®šæ€§ç¯å¢ƒ**ï¼šä¼ä¸šé¢ä¸´æœªæ¥é”€å”®é¢ã€å¸‚åœºä»·æ ¼ã€æŠ•å…¥å¯å¾—æ€§ã€å·¥èµ„ã€ç°é‡‘æµç­‰æ ¹æœ¬ä¸ç¡®å®šæ€§
- **é¢„æœŸå½¢æˆ**ï¼šæ¯ä¸ªä¼ä¸šå¿…é¡»å¯¹æœªæ¥å½¢æˆé¢„æœŸï¼Œè€Œè¿™äº›é¢„æœŸå¯èƒ½ä¸å®é™…æƒ…å†µä¸ç¬¦

## ğŸ—ï¸ æ™ºèƒ½ä½“æ¶æ„è®¾è®¡

### æ ¸å¿ƒæ™ºèƒ½ä½“ç±»å‹

#### **1. ä¼ä¸šæ™ºèƒ½ä½“ï¼ˆ7ç±»ï¼‰**

##### **å·¥ä¸šä¼ä¸šï¼ˆ3ç±»ï¼‰- ä¸Šæ¸¸ä¾›ç»™**
è¿™äº›ä¼ä¸šä¸ºå†œä¸šç”Ÿäº§æä¾›å·¥ä¸šæŠ•å…¥å“ï¼Œæ˜¯å†œä¸šç°ä»£åŒ–çš„é‡è¦æ”¯æ’‘ï¼š

##### `PesticideEnterpriseAgent` - å†œè¯ä¼ä¸š
```matlab
% æ ¸å¿ƒå¼‚è´¨æ€§å±æ€§
properties:
    product_quality         % [0.3,1.0] äº§å“è´¨é‡æŒ‡æ•°
    technology_level        % [0.3,1.0] ç”Ÿäº§æŠ€æœ¯æ°´å¹³  
    quality_investment      % [0.01,0.08] è´¨é‡æŠ•èµ„æ¯”ä¾‹
    rd_investment          % [0.005,0.06] ç ”å‘æŠ•èµ„æ¯”ä¾‹
    reputation             % [0,1] ä¼ä¸šå¸‚åœºå£°èª‰
    emission_rate          % [0.05,0.2] å•ä½äº§å‡ºæ’æ”¾ç³»æ•°
    production_capacity    % [1000,50000] å¹´äº§èƒ½ï¼ˆå¨ï¼‰
    market_share          % [0,1] å½“å‰å¸‚åœºä»½é¢
end

% è´¨é‡ç”Ÿäº§å‡½æ•°ï¼ˆCESå½¢å¼ï¼‰
Q = [Î±_TÂ·T^Ï + Î±_QÂ·QInv^Ï + Î±_RÂ·RD^Ï + Î±_RepÂ·Rep^Ï]^(1/Ï)
å…¶ä¸­ï¼šÎ±_T=0.35, Î±_Q=0.30, Î±_R=0.25, Î±_Rep=0.10, Ï=-0.4
```

##### `FertilizerEnterpriseAgent` - åŒ–è‚¥ä¼ä¸š  
```matlab
% ä¸“ä¸šåŒ–å¼‚è´¨æ€§å±æ€§
properties:
    nitrogen_efficiency     % [0.6,0.95] æ°®è‚¥åˆ©ç”¨æ•ˆç‡
    phosphorus_efficiency   % [0.5,0.90] ç£·è‚¥åˆ©ç”¨æ•ˆç‡
    organic_content_ratio   % [0,0.3] æœ‰æœºæˆåˆ†æ¯”ä¾‹
    green_tech_adoption     % [0,1] ç»¿è‰²æŠ€æœ¯é‡‡ç”¨æ°´å¹³
    carbon_footprint        % [1.0,2.5] ç¢³è¶³è¿¹ï¼ˆå¨CO2/å¨äº§å“ï¼‰
    waste_recycling_rate    % åºŸæ–™å›æ”¶åˆ©ç”¨ç‡
end
```

##### `AgroProcessingEnterpriseAgent` - å†œäº§å“åŠ å·¥ä¼ä¸š
```matlab
% åŠ å·¥ä¸šåŠ¡å¼‚è´¨æ€§
properties:
    processing_capacity      % [1000,20000] å¹´åŠ å·¥èƒ½åŠ›ï¼ˆå¨ï¼‰
    input_quality_requirement % [0.5,0.9] åŸæ–™è´¨é‡è¦æ±‚
    contract_farming_ratio    % [0,0.6] è®¢å•å†œä¸šæ¯”ä¾‹
    automation_level         % [0.1,0.8] è‡ªåŠ¨åŒ–æ°´å¹³
    value_added_ratio        % [0.2,0.8] å¢å€¼æ¯”ä¾‹
end
```

#### **2. å†œä¸šç”Ÿäº§ä¼ä¸šï¼ˆ3ç±»ï¼‰- æ ¸å¿ƒç”Ÿäº§**
**ä¸¥æ ¼é™å®šä¸ºä¸‰ç±»å†œä¸šç”Ÿäº§ä¼ä¸š**ï¼Œä½“ç°å†œä¸šç”Ÿäº§çš„åŸºæœ¬åˆ†åŒ–ï¼š

##### `GrainFarmAgent` - ç²®é£Ÿä½œç‰©ç”Ÿäº§ä¼ä¸š
ä¸“ä¸šåŒ–ç”Ÿäº§å°éº¦ã€ç‰ç±³ã€æ°´ç¨»ç­‰ç²®é£Ÿä½œç‰©ï¼Œæ³¨é‡ç¨³å®šæ€§å’Œè§„æ¨¡æ•ˆåº”ã€‚

##### `CashCropFarmAgent` - ç»æµä½œç‰©ç”Ÿäº§ä¼ä¸š  
ä¸“ä¸šåŒ–ç”Ÿäº§æ£‰èŠ±ã€æ²¹æ–™ã€ç³–æ–™ç­‰ç»æµä½œç‰©ï¼Œæ³¨é‡å¸‚åœºä»·å€¼å’Œå“è´¨ã€‚

##### `MixedCropFarmAgent` - æ··åˆä½œç‰©ç”Ÿäº§ä¼ä¸š
åŒæ—¶ç”Ÿäº§ç²®é£Ÿä½œç‰©å’Œç»æµä½œç‰©ï¼Œåˆ†æ•£é£é™©ä½†å¯èƒ½ç‰ºç‰²ä¸“ä¸šåŒ–æ•ˆç‡ã€‚

#### **3. å†œä¸šæœåŠ¡ä¼ä¸šï¼ˆ1ç±»ï¼‰- æŠ€æœ¯æœåŠ¡**

##### `AgriculturalServiceEnterpriseAgent` - å†œä¸šæœåŠ¡ä¼ä¸š
```matlab
% æœåŠ¡èƒ½åŠ›å¼‚è´¨æ€§
properties:
    service_types = {'machinery', 'technical_consulting', 'plant_protection'}
    service_capacity = struct()     % å„ç±»æœåŠ¡èƒ½åŠ›
    service_quality = struct()      % å„ç±»æœåŠ¡è´¨é‡
    technology_level = 0.6          % æŠ€æœ¯æ°´å¹³ [0-1]
    technical_expertise = 0.5       % æŠ€æœ¯ä¸“é•¿ [0-1]
    service_coverage_radius = 20    % æœåŠ¡è¦†ç›–åŠå¾„ï¼ˆå…¬é‡Œï¼‰
end
```

#### **4. å†œæˆ·æ™ºèƒ½ä½“ï¼ˆ2ç±»ï¼‰**

##### `HouseholdAgent` - ä¼ ç»Ÿå†œæˆ·
```matlab
% å†œæˆ·å¼‚è´¨æ€§å±æ€§
properties:
    age                     % [20,80] å¹´é¾„
    education               % [0,16] æ•™è‚²å¹´é™
    land_holding            % [1,15] åœŸåœ°è§„æ¨¡ï¼ˆäº©ï¼‰
    quality_preference      % [0.3,0.9] è´¨é‡åå¥½
    price_sensitivity       % [0.8,2.0] ä»·æ ¼æ•æ„Ÿåº¦
    risk_tolerance          % [0.2,0.8] é£é™©åå¥½
    learning_ability        % [0.3,0.9] å­¦ä¹ èƒ½åŠ›
    social_network_strength % [0.2,0.8] ç¤¾ä¼šç½‘ç»œå¼ºåº¦
end
```

##### `FarmerAgentWithExpectations` - å¸¦é¢„æœŸçš„å†œæˆ·
ç»§æ‰¿è‡ª`HouseholdAgent`ï¼Œå…·å¤‡é¢„æœŸå½¢æˆå’Œå­¦ä¹ èƒ½åŠ›ã€‚

#### **5. æ”¿åºœæ™ºèƒ½ä½“ï¼ˆ2ç±»ï¼‰**

##### `GovernmentAgent` - åŸºç¡€æ”¿åºœæ™ºèƒ½ä½“
```matlab
% æ”¿åºœæ”¿ç­–å‚æ•°
properties:
    emission_tax_rate       % [0,0.5] æ’æ”¾ç¨ç‡
    green_subsidy_rate      % [0,0.3] ç»¿è‰²è¡¥è´´ç‡
    compliance_penalty_rate % [0,0.4] åˆè§„ç½šæ¬¾ç‡
    quality_standard        % [0.3,0.9] è´¨é‡æ ‡å‡†è¦æ±‚
    policy_budget           % [0,Inf] æ”¿ç­–å®æ–½é¢„ç®—
    policy_style            % struct æ”¿ç­–åˆ¶å®šé£æ ¼
end
```

##### `GovernmentAgentWithExpectations` - å¸¦é¢„æœŸçš„æ”¿åºœæ™ºèƒ½ä½“
ç»§æ‰¿è‡ª`GovernmentAgent`ï¼Œå…·å¤‡æ”¿ç­–å­¦ä¹ å’Œè‡ªé€‚åº”è°ƒæ•´èƒ½åŠ›ã€‚

#### **6. åŠ³åŠ¨åŠ›å¸‚åœºæ™ºèƒ½ä½“ï¼ˆ2ç±»ï¼‰**

##### `LaborSupplierAgent` - åŠ³åŠ¨åŠ›ä¾›ç»™æ–¹
```matlab
% åŠ³åŠ¨åŠ›ä¾›ç»™å±æ€§
properties:
    skill_level             % [1,5] æŠ€èƒ½ç­‰çº§
    available_work_hours    % [1000,2500] å¹´å¯å·¥ä½œå°æ—¶æ•°
    reservation_wage        % [15,50] ä¿ç•™å·¥èµ„ï¼ˆå…ƒ/å°æ—¶ï¼‰
    commuting_tolerance     % [10,50] é€šå‹¤å®¹å¿åº¦ï¼ˆå…¬é‡Œï¼‰
    training_willingness    % [0,1] åŸ¹è®­å‚ä¸æ„æ„¿
end
```

##### `LaborDemanderAgent` - åŠ³åŠ¨åŠ›éœ€æ±‚æ–¹
```matlab
% åŠ³åŠ¨åŠ›éœ€æ±‚å±æ€§
properties:
    production_scale        % [50,1000] ç”Ÿäº§è§„æ¨¡
    technology_level        % [0.3,0.9] æŠ€æœ¯æ°´å¹³
    labor_demand_forecast   % struct åŠ³åŠ¨åŠ›éœ€æ±‚é¢„æµ‹
    max_wage_budget         % [50000,500000] æœ€å¤§å·¥èµ„é¢„ç®—
    preferred_skill_levels  % [1,5] åå¥½çš„æŠ€èƒ½æ°´å¹³
end
```

### ä¼ä¸šå¼‚è´¨æ€§æœºåˆ¶

#### **ç§‘å­¦åŒ–å¼‚è´¨æ€§è¡¨å¾ï¼ˆæ›¿ä»£"å“ç‰Œå¼ºåº¦"ï¼‰**

**1. å¤šç»´å¼‚è´¨æ€§å‘é‡**
```matlab
Enterprise_Heterogeneity_i = [Tech_i, Quality_Investment_i, RD_Investment_i, Reputation_i]
```

**2. æŠ€æœ¯æ°´å¹³å†…ç”ŸåŒ–**
```matlab
Tech_{i,t+1} = Tech_{i,t} Ã— (1 + Î´_tech) Ã— (1 + Î»_RD Ã— RD_{i,t}) Ã— (1 + Î»_spillover Ã— TechSpillover_{i,t})
```

**3. äº§å“è´¨é‡å‡½æ•°**
```matlab
Quality_{i,t} = A_quality Ã— [Î±_TÃ—Tech_{i,t}^Ï + Î±_QÃ—QualityCapital_{i,t}^Ï + 
                             Î±_RÃ—RDStock_{i,t}^Ï + Î±_RepÃ—Reputation_{i,t}^Ï]^(1/Ï)
```

**4. å£°èª‰åŠ¨æ€æ¼”åŒ–**
```matlab
Reputation_{i,t+1} = Î±_rep Ã— Reputation_{i,t} + (1-Î±_rep) Ã— TargetReputation_{i,t} + shock_{i,t}
```

## ğŸ§  é¢„æœŸå½¢æˆæœºåˆ¶

### æ ¸å¿ƒæ¨¡å—

#### **`AgentWithExpectations` - å¸¦é¢„æœŸåŠŸèƒ½çš„æ™ºèƒ½ä½“åŸºç±»**
æ‰€æœ‰å…·å¤‡é¢„æœŸå½¢æˆèƒ½åŠ›çš„æ™ºèƒ½ä½“éƒ½ç»§æ‰¿è‡ªæ­¤åŸºç±»ã€‚

#### **`ExpectationFormationModule` - é¢„æœŸå½¢æˆæ¨¡å—**
è´Ÿè´£å®ç°AR(1)è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶å’Œé¢„æœŸæ›´æ–°ç®—æ³•ã€‚

### é¢„æœŸå½¢æˆç®—æ³•

#### **AR(1)è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶**
```matlab
% é¢„æœŸå½¢æˆè¿‡ç¨‹
E_t[X_{t+h}] = Î± + Î² Ã— X_t + Î³ Ã— trend_t + Îµ_t

å…¶ä¸­ï¼š
Î±, Î², Î³: é€šè¿‡é€’å½’æœ€å°äºŒä¹˜æ³•åœ¨çº¿å­¦ä¹ çš„å‚æ•°
h: é¢„æµ‹æœŸæ•°
trend_t: è¶‹åŠ¿é¡¹
Îµ_t: éšæœºè¯¯å·®é¡¹
```

#### **ç½®ä¿¡åº¦è°ƒæ•´æœºåˆ¶**
```matlab
% é¢„æœŸç½®ä¿¡åº¦è®¡ç®—
Confidence_t = exp(-Î» Ã— RMSE_t)

å…¶ä¸­ï¼š
Î»: ç½®ä¿¡åº¦è¡°å‡ç³»æ•°
RMSE_t: æ»šåŠ¨é¢„æµ‹å‡æ–¹æ ¹è¯¯å·®
```

### é¢„æœŸå˜é‡ç±»å‹

#### **ä¼ä¸šé¢„æœŸå˜é‡**
- **å¸‚åœºéœ€æ±‚**ï¼šæœªæ¥äº§å“éœ€æ±‚é‡å’Œéœ€æ±‚ç»“æ„
- **æˆæœ¬å˜åŒ–**ï¼šåŸææ–™æˆæœ¬ã€åŠ³åŠ¨åŠ›æˆæœ¬ã€æŠ€æœ¯æˆæœ¬
- **æ”¿ç­–ç¯å¢ƒ**ï¼šç¯å¢ƒç¨ç‡ã€è¡¥è´´æ”¿ç­–ã€ç›‘ç®¡æ ‡å‡†
- **ç«äº‰å¼ºåº¦**ï¼šå¸‚åœºç«äº‰ç¨‹åº¦ã€ç«äº‰å¯¹æ‰‹è¡Œä¸º

#### **å†œæˆ·é¢„æœŸå˜é‡**
- **ä»·æ ¼è¶‹åŠ¿**ï¼šå†œäº§å“ä»·æ ¼ã€æŠ•å…¥å“ä»·æ ¼
- **æ”¿ç­–è¡¥è´´**ï¼šç§ç²®è¡¥è´´ã€æŠ€æœ¯è¡¥è´´ã€ç¯ä¿è¡¥è´´
- **æ°”å€™æ¡ä»¶**ï¼šæ¸©åº¦ã€é™æ°´ã€æç«¯äº‹ä»¶æ¦‚ç‡
- **å¸‚åœºæœºä¼š**ï¼šéå†œå°±ä¸šæœºä¼šã€åœŸåœ°æµè½¬æœºä¼š

#### **æ”¿åºœé¢„æœŸå˜é‡**
- **æ”¿ç­–æ•ˆæœ**ï¼šæ”¿ç­–å®æ–½æ•ˆæœã€ç›®æ ‡è¾¾æˆåº¦
- **ç»æµæŒ‡æ ‡**ï¼šGDPå¢é•¿ã€å°±ä¸šç‡ã€é€šèƒ€ç‡
- **ç¤¾ä¼šåé¦ˆ**ï¼šå…¬ä¼—æ»¡æ„åº¦ã€åˆ©ç›Šé›†å›¢ååº”
- **å¤–éƒ¨ç¯å¢ƒ**ï¼šå›½é™…æ”¿ç­–ã€æ°”å€™å˜åŒ–ã€æŠ€æœ¯å‘å±•

## ğŸª å¸‚åœºæ¨¡å—ä½“ç³»

### æ ¸å¿ƒå¸‚åœºæ¨¡å—

#### **`PesticideMarketModule` - å†œè¯å¸‚åœºï¼ˆè´¨é‡åŒ¹é…ï¼‰**
- **åŠŸèƒ½**ï¼šå†œè¯ä¼ä¸šä¸å†œä¸šä¼ä¸šä¹‹é—´çš„ä¾›éœ€åŒ¹é…
- **ç‰¹è‰²**ï¼šåŸºäºè´¨é‡åå¥½çš„åŒè¾¹æœå¯»åŒ¹é…ç®—æ³•
- **æœºåˆ¶**ï¼šè´¨é‡åŒ¹é…ã€ä»·æ ¼å‘ç°ã€å£°èª‰ä¼ æ’­

#### **`FertilizerMarketModule` - åŒ–è‚¥å¸‚åœº**
- **åŠŸèƒ½**ï¼šåŒ–è‚¥ä¼ä¸šä¸å†œä¸šä¼ä¸šä¹‹é—´çš„äº¤æ˜“
- **ç‰¹è‰²**ï¼šè€ƒè™‘ç¯ä¿è®¤è¯å’Œç»¿è‰²æŠ€æœ¯åå¥½
- **æœºåˆ¶**ï¼šç¯ä¿åŠ åˆ†ã€ç»¿è‰²äº§å“æº¢ä»·

#### **`CommodityMarketModule` - å•†å“å¸‚åœº**
- **åŠŸèƒ½**ï¼šå†œäº§å“äº¤æ˜“å’Œä»·æ ¼å‘ç°
- **ç‰¹è‰²**ï¼šåŸºäºè´¨é‡ç­‰çº§çš„ä»·æ ¼å‘ç°æœºåˆ¶
- **æœºåˆ¶**ï¼šæœŸè´§åˆçº¦ã€å­£èŠ‚æ€§ä»·æ ¼æ³¢åŠ¨

#### **`LandMarketModule` - åœŸåœ°å¸‚åœº**
- **åŠŸèƒ½**ï¼šåœŸåœ°æµè½¬å’Œç§Ÿèµäº¤æ˜“
- **ç‰¹è‰²**ï¼šè€ƒè™‘æƒ…æ„Ÿä»·å€¼å’Œäº¤æ˜“æˆæœ¬
- **æœºåˆ¶**ï¼šåŒè¾¹åŒ¹é…ã€ä»·æ ¼åå•†ã€åˆåŒè®¾è®¡

#### **`LaborMarketModule` - åŠ³åŠ¨åŠ›å¸‚åœº**
- **åŠŸèƒ½**ï¼šå†œä¸šåŠ³åŠ¨åŠ›ä¾›éœ€åŒ¹é…å’Œå·¥èµ„å†³å®š
- **ç‰¹è‰²**ï¼šåŸºäºæŠ€èƒ½åŒ¹é…çš„å»¶è¿Ÿæ¥å—ç®—æ³•
- **æœºåˆ¶**ï¼šå­£èŠ‚æ€§éœ€æ±‚ã€æŠ€èƒ½å‘å±•ã€åŸ¹è®­é¡¹ç›®

#### **`InputMarketModule` - æŠ•å…¥å“å¸‚åœº**
- **åŠŸèƒ½**ï¼šå†œä¸šç”Ÿäº§æŠ•å…¥å“çš„äº¤æ˜“
- **ç‰¹è‰²**ï¼šå¤šå“ç§æŠ•å…¥å“çš„ç»¼åˆäº¤æ˜“
- **æœºåˆ¶**ï¼šè´¨é‡æ£€éªŒã€ä»·æ ¼ç«äº‰ã€ä¾›åº”é“¾ç®¡ç†

### å¸‚åœºåŒ¹é…æœºåˆ¶

#### **è´¨é‡åŒ¹é…**
```matlab
% åŒ¹é…æ•ˆç”¨å‡½æ•°
U(demander, supplier) = w_qualityÃ—QualityUtility + w_priceÃ—PriceUtility + 
                       w_reputationÃ—ReputationUtility - SearchCost

å…¶ä¸­ï¼š
QualityUtility = exp(-|supplier.quality - demander.quality_preference|Â²/2ÏƒÂ²)
PriceUtility = exp(-price_sensitivity Ã— normalized_price)
ReputationUtility = 1/(1 + exp(-reputation_slope Ã— (supplier.reputation - 0.5)))
```

#### **ä»·æ ¼å‘ç°**
```matlab
% åŠ¨æ€ä»·æ ¼è°ƒæ•´æœºåˆ¶
P_{t+1} = P_t + Î± Ã— (Demand_t - Supply_t) + Î² Ã— (P_target - P_t) + Îµ_t

å…¶ä¸­ï¼š
Î±: ä¾›éœ€è°ƒæ•´ç³»æ•°
Î²: ç›®æ ‡ä»·æ ¼è°ƒæ•´ç³»æ•°
Îµ_t: éšæœºå†²å‡»
```

#### **ä¿¡æ¯ä¼ æ’­**
```matlab
% å£°èª‰ä¼ æ’­æœºåˆ¶
Reputation_{i,t+1} = Reputation_{i,t} + Î³ Ã— (ActualQuality_{i,t} - ExpectedQuality_{i,t}) + 
                     Î´ Ã— NetworkEffect_{i,t} + Î·_t

å…¶ä¸­ï¼š
Î³: è´¨é‡åé¦ˆç³»æ•°
Î´: ç½‘ç»œæ•ˆåº”ç³»æ•°
Î·_t: éšæœºå™ªå£°
```

## ğŸ›ï¸ ç†è®ºåŸºç¡€

### 1. å¾®è§‚ç»æµå­¦åŸºç¡€

#### 1.1 ä¼ä¸šç†è®ºä¸å¼‚è´¨æ€§å»ºæ¨¡

##### æ–°å¤å…¸ä¼ä¸šç†è®ºæ‰©å±•
åŸºäºæ–°å¤å…¸ä¼ä¸šç†è®ºï¼Œæˆ‘ä»¬æ„å»ºäº†è€ƒè™‘æŠ€æœ¯å¼‚è´¨æ€§å’Œè´¨é‡æŠ•èµ„çš„ç”Ÿäº§å‡½æ•°ï¼š

```matlab
% ä¼ä¸šiçš„ç”Ÿäº§å‡½æ•°ï¼ˆCobb-Douglaså½¢å¼ï¼‰
Y_i = A_i Ã— K_i^Î± Ã— L_i^Î² Ã— Q_i^Î³

å…¶ä¸­ï¼š
Y_i: ä¼ä¸šiçš„äº§å‡º
A_i: å…¨è¦ç´ ç”Ÿäº§ç‡ï¼ˆæŠ€æœ¯æ°´å¹³ï¼‰âˆˆ [0.3, 1.0]
K_i: èµ„æœ¬å­˜é‡ âˆˆ [10000, 500000]
L_i: åŠ³åŠ¨æŠ•å…¥ âˆˆ [5, 200]
Q_i: è´¨é‡èµ„æœ¬ âˆˆ [0.3, 1.0]
Î± = 0.4 (èµ„æœ¬äº§å‡ºå¼¹æ€§)
Î² = 0.35 (åŠ³åŠ¨äº§å‡ºå¼¹æ€§) 
Î³ = 0.25 (è´¨é‡äº§å‡ºå¼¹æ€§)
```

#### 1.2 äº§ä¸šç»„ç»‡ç†è®ºåº”ç”¨

##### å¸‚åœºç»“æ„å†…ç”ŸåŒ–ï¼ˆåŸºäºMelitz 2003ï¼‰
ä¸åŒç”Ÿäº§ç‡ä¼ä¸šçš„å¸‚åœºå‡†å…¥å’Œé€€å‡ºå†³ç­–ï¼š

```matlab
% ä¼ä¸šå¸‚åœºå‡†å…¥æ¡ä»¶
Ï€_i â‰¥ f_entry + f_fixed

å…¶ä¸­ï¼š
Ï€_i: ä¼ä¸šiçš„æœŸæœ›åˆ©æ¶¦
f_entry = 5000: è¿›å…¥å›ºå®šæˆæœ¬
f_fixed = 1200: æ¯æœŸå›ºå®šæˆæœ¬

% åˆ©æ¶¦å‡½æ•°ï¼ˆè€ƒè™‘è´¨é‡æº¢ä»·ï¼‰
Ï€_i = (P_i - mc_i) Ã— Q_i - FC_i - EnvCost_i - QualityCost_i

P_i = mc_i Ã— (1 + markup_i) Ã— QualityPremium_i
QualityPremium_i = 1 + Îº Ã— (Quality_i - AvgQuality)
Îº = 0.25: è´¨é‡æº¢ä»·å¼¹æ€§
```

### 2. ç¯å¢ƒç»æµå­¦ç†è®º

#### 2.1 åº‡å¤ç¨ç†è®ºæ‰©å±•

```matlab
% æœ€ä¼˜æ’æ”¾ç¨ç‡
Ï„* = MED(E*): æœ€ä¼˜ç¨ç‡ç­‰äºæœ€ä¼˜æ’æ”¾æ°´å¹³ä¸‹çš„è¾¹é™…ç¯å¢ƒæŸå®³

% è¾¹é™…ç¯å¢ƒæŸå®³å‡½æ•°ï¼ˆéçº¿æ€§ï¼‰
MED(E) = Î±_env Ã— E + Î²_env Ã— EÂ² + Î³_env Ã— EÂ³

å‚æ•°æ ‡å®šï¼š
Î±_env = 50: çº¿æ€§æŸå®³ç³»æ•°ï¼ˆå…ƒ/å¨CO2å½“é‡ï¼‰
Î²_env = 0.02: äºŒæ¬¡é¡¹ç³»æ•°
Î³_env = 0.0001: ä¸‰æ¬¡é¡¹ç³»æ•°
```

#### 2.2 ç»¿è‰²æŠ€æœ¯è¡¥è´´ç†è®º

```matlab
% å·®åˆ«åŒ–è¡¥è´´å‡½æ•°
Subsidy_i = s_base Ã— TechUpgrade_i + s_performance Ã— (TechLevel_{i,new} - TechLevel_{i,old})

å…¶ä¸­ï¼š
s_base = 0.3: åŸºç¡€è¡¥è´´ç‡
s_performance = 0.5: ç»©æ•ˆè¡¥è´´ç³»æ•°
```

### 3. é¢„æœŸå½¢æˆç†è®º

#### 3.1 AR(1)è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶

æ¯ä¸ªæ™ºèƒ½ä½“åŸºäºå†å²æ•°æ®å½¢æˆå¯¹æœªæ¥çš„é¢„æœŸï¼š

```matlab
% AR(1)é¢„æœŸå½¢æˆè¿‡ç¨‹
E_t[X_{t+h}] = Î± + Î² Ã— X_t + Î³ Ã— trend_t + Îµ_t

å…¶ä¸­ï¼š
Î±, Î², Î³: é€šè¿‡é€’å½’æœ€å°äºŒä¹˜æ³•åœ¨çº¿å­¦ä¹ çš„å‚æ•°
h: é¢„æµ‹æœŸæ•°
trend_t: è¶‹åŠ¿é¡¹
```

#### 3.2 ç½®ä¿¡åº¦è°ƒæ•´æœºåˆ¶

```matlab
% é¢„æœŸç½®ä¿¡åº¦è®¡ç®—
Confidence_t = exp(-Î» Ã— RMSE_t)

å…¶ä¸­ï¼š
Î»: ç½®ä¿¡åº¦è¡°å‡ç³»æ•°
RMSE_t: æ»šåŠ¨é¢„æµ‹å‡æ–¹æ ¹è¯¯å·®
```

## ğŸš€ æ ¸å¿ƒæ”¹è¿›

### 1. ä¼ä¸šå¼‚è´¨æ€§æœºåˆ¶é‡æ„

#### åŸæœ‰è®¾è®¡çš„é—®é¢˜
```matlab
% åŸæœ‰ç®€åŒ–è®¾è®¡çš„é—®é¢˜
brand_strength = 0.5 + 0.5 * rand;  % æŠ½è±¡æ¦‚å¿µï¼Œç¼ºä¹ç†è®ºåŸºç¡€
price_premium = base_price * (1 + 0.05 * brand_strength);
```

#### æ–°çš„ç§‘å­¦åŒ–è®¾è®¡

**1.1 å¤šç»´å¼‚è´¨æ€§å»ºæ¨¡æ¡†æ¶**
```matlab
% ä¼ä¸šå¼‚è´¨æ€§å››ç»´å‘é‡
Enterprise_Heterogeneity_i = [Tech_i, Quality_Investment_i, RD_Investment_i, Reputation_i]

% æŠ€æœ¯æ°´å¹³å»ºæ¨¡ï¼ˆåŸºäºå†…ç”Ÿå¢é•¿ç†è®ºï¼‰
Tech_{i,t+1} = Tech_{i,t} Ã— (1 + Î´_tech) Ã— (1 + Î»_RD Ã— RD_{i,t}) Ã— (1 + Î»_spillover Ã— TechSpillover_{i,t})

å…¶ä¸­ï¼š
Î´_tech = 0.015: å¤–ç”ŸæŠ€æœ¯è¿›æ­¥ç‡ï¼ˆå¹´1.5%ï¼‰
Î»_RD = 0.12: R&Då¯¹æŠ€æœ¯è¿›æ­¥çš„å¼¹æ€§
Î»_spillover = 0.08: æŠ€æœ¯æº¢å‡ºå¼¹æ€§
```

**1.2 äº§å“è´¨é‡å†…ç”ŸåŒ–æœºåˆ¶**
```matlab
% è´¨é‡ç”Ÿäº§å‡½æ•°ï¼ˆå¤šè¦ç´ CESå½¢å¼ï¼‰
Quality_{i,t} = A_quality Ã— [Î±_TÃ—Tech_{i,t}^Ï + Î±_QÃ—QualityCapital_{i,t}^Ï + 
                             Î±_RÃ—RDStock_{i,t}^Ï + Î±_RepÃ—Reputation_{i,t}^Ï]^(1/Ï)

å‚æ•°æ ‡å®šï¼ˆåŸºäºä¸­å›½åˆ¶é€ ä¸šè°ƒç ”ï¼‰ï¼š
A_quality = 1.2: è´¨é‡å…¨è¦ç´ ç”Ÿäº§ç‡
Î±_T = 0.35: æŠ€æœ¯æ°´å¹³è´¡çŒ®ä»½é¢
Î±_Q = 0.30: è´¨é‡èµ„æœ¬è´¡çŒ®ä»½é¢  
Î±_R = 0.25: ç ”å‘å­˜é‡è´¡çŒ®ä»½é¢
Î±_Rep = 0.10: å£°èª‰è´¡çŒ®ä»½é¢
Ï = -0.4: æ›¿ä»£å¼¹æ€§å‚æ•°
```

### 2. å¸‚åœºæœºåˆ¶ç²¾ç»†åŒ–æ”¹è¿›

#### 2.1 ä»ä»·æ ¼æ’®åˆåˆ°è´¨é‡åŒ¹é…

**åŒè¾¹æœå¯»åŒ¹é…æœºåˆ¶**
```matlab
% åŒè¾¹æœå¯»åŒ¹é…ç®—æ³•ï¼ˆGale-Shapleyç¨³å®šåŒ¹é…æ”¹è¿›ç‰ˆæœ¬ï¼‰
function [matches, welfare] = quality_based_matching(suppliers, demanders, market_params)
    % ç¬¬ä¸€é˜¶æ®µï¼šè®¡ç®—æ‰€æœ‰å¯èƒ½åŒ¹é…çš„æ•ˆç”¨
    utility_matrix = calculate_utility_matrix(suppliers, demanders);
    
    % ç¬¬äºŒé˜¶æ®µï¼šè€ƒè™‘æœå¯»æˆæœ¬çš„æœ€ä¼˜åŒ¹é…
    [optimal_assignment, total_welfare] = solve_assignment_problem(utility_matrix, search_costs);
    
    % ç¬¬ä¸‰é˜¶æ®µï¼šåŒ¹é…ç¨³å®šæ€§æ£€éªŒ
    stable_matches = stability_check(optimal_assignment, utility_matrix);
    
    return stable_matches, total_welfare;
end
```

**åŒ¹é…æ•ˆç”¨å‡½æ•°**
```matlab
% å¤šå±æ€§æ•ˆç”¨ç†è®ºï¼ˆMAUTï¼‰
utility = w_quality Ã— quality_utility + 
          w_price Ã— price_utility + 
          w_reputation Ã— reputation_utility - 
          distance_cost - search_cost

å…¶ä¸­ï¼š
quality_utility = exp(-quality_distanceÂ²/(2Ã—quality_variance))
price_utility = exp(-price_sensitivity Ã— normalized_price)
reputation_utility = 1/(1 + exp(-reputation_slope Ã— (reputation - 0.5)))
```

### 3. é¢„æœŸå½¢æˆæœºåˆ¶å®Œå–„

#### 3.1 æ™ºèƒ½ä½“ç‰¹å®šçš„é¢„æœŸå˜é‡

**å†œè¯ä¼ä¸šé¢„æœŸå˜é‡**ï¼š
```matlab
expectation_variables = {'farmer_demand', 'input_material_cost', 'competition_intensity',
                        'regulation_stringency', 'environmental_tax_rate', 'pest_outbreak_prob'}
```

**åŒ–è‚¥ä¼ä¸šé¢„æœŸå˜é‡**ï¼š
```matlab
expectation_variables = {'crop_planting_area', 'organic_fertilizer_trend', 
                        'precision_agriculture_adoption', 'nitrogen_price_volatility'}
```

**å†œä¸šæœåŠ¡ä¼ä¸šé¢„æœŸå˜é‡**ï¼š
```matlab
expectation_variables = {'service_demand', 'agricultural_income', 'modernization_rate',
                        'technology_trend', 'fuel_price'}
```

## ğŸ“Š ç³»ç»Ÿæ¶æ„

### æ™ºèƒ½ä½“ç±»å‹ä¸å±‚æ¬¡

```mermaid
graph TB
    A[å¤šæ™ºèƒ½ä½“æ°”å€™æ”¿ç­–æ¨¡å‹<br/>ç®€åŒ–ç‰ˆæœ¬] --> B[å·¥ä¸šä¼ä¸š 3ç±»]
    A --> C[å†œä¸šç”Ÿäº§ä¼ä¸š 3ç±»]
    A --> D[æœåŠ¡ä¼ä¸š 1ç±»]
    A --> E[å†œæˆ·æ™ºèƒ½ä½“ 2ç±»]
    A --> F[æ”¿åºœæ™ºèƒ½ä½“ 2ç±»]
    A --> G[åŠ³åŠ¨åŠ›å¸‚åœºæ™ºèƒ½ä½“ 2ç±»]
    A --> H[å¸‚åœºæ¨¡å— 6ç±»]
    
    B --> B1[å†œè¯ä¼ä¸š<br/>PesticideEnterpriseAgent]
    B --> B2[åŒ–è‚¥ä¼ä¸š<br/>FertilizerEnterpriseAgent]
    B --> B3[å†œäº§å“åŠ å·¥ä¼ä¸š<br/>AgroProcessingEnterpriseAgent]
    
    C --> C1[ç²®é£Ÿä½œç‰©ç”Ÿäº§ä¼ä¸š<br/>GrainFarmAgent]
    C --> C2[ç»æµä½œç‰©ç”Ÿäº§ä¼ä¸š<br/>CashCropFarmAgent]
    C --> C3[æ··åˆä½œç‰©ç”Ÿäº§ä¼ä¸š<br/>MixedCropFarmAgent]
    
    D --> D1[å†œä¸šæœåŠ¡ä¼ä¸š<br/>AgriculturalServiceEnterpriseAgent]
    
    E --> E1[ä¼ ç»Ÿå†œæˆ·<br/>HouseholdAgent]
    E --> E2[å¸¦é¢„æœŸå†œæˆ·<br/>FarmerAgentWithExpectations]
    
    F --> F1[åŸºç¡€æ”¿åºœæ™ºèƒ½ä½“<br/>GovernmentAgent]
    F --> F2[å¸¦é¢„æœŸæ”¿åºœæ™ºèƒ½ä½“<br/>GovernmentAgentWithExpectations]
    
    G --> G1[åŠ³åŠ¨åŠ›ä¾›ç»™æ–¹<br/>LaborSupplierAgent]
    G --> G2[åŠ³åŠ¨åŠ›éœ€æ±‚æ–¹<br/>LaborDemanderAgent]
    
    H --> H1[å†œè¯å¸‚åœº<br/>PesticideMarketModule]
    H --> H2[åŒ–è‚¥å¸‚åœº<br/>FertilizerMarketModule]  
    H --> H3[å•†å“å¸‚åœº<br/>CommodityMarketModule]
    H --> H4[åœŸåœ°å¸‚åœº<br/>LandMarketModule]
    H --> H5[åŠ³åŠ¨åŠ›å¸‚åœº<br/>LaborMarketModule]
    H --> H6[æŠ•å…¥å“å¸‚åœº<br/>InputMarketModule]
```

### ä¼ä¸šå¼‚è´¨æ€§è¡¨å¾

#### 1. å·¥ä¸šä¼ä¸šå¼‚è´¨æ€§
```matlab
% å†œè¯ä¼ä¸š
properties_PesticideEnterprise:
    product_quality: [0.3,1.0]        % åŸºäºCESè´¨é‡å‡½æ•°
    technology_level: [0.3,1.0]       % ç”Ÿäº§æŠ€æœ¯æ°´å¹³
    quality_investment: [0.01,0.08]   % è´¨é‡æŠ•èµ„æ¯”ä¾‹
    rd_investment: [0.005,0.06]       % ç ”å‘æŠ•èµ„æ¯”ä¾‹
    reputation: [0,1]                 % å¸‚åœºå£°èª‰
    emission_rate: [0.05,0.2]         % æ’æ”¾ç³»æ•°
```

#### 2. å†œä¸šç”Ÿäº§ä¼ä¸šå¼‚è´¨æ€§
```matlab
% ç²®é£Ÿä½œç‰©ä¼ä¸š
properties_GrainFarm:
    crop_yield: [400,800]             % å•äº§æ°´å¹³ï¼ˆå…¬æ–¤/äº©ï¼‰
    land_scale: [50,500]              % ç»è¥è§„æ¨¡ï¼ˆäº©ï¼‰
    mechanization_level: [0.3,0.9]    % æœºæ¢°åŒ–æ°´å¹³
    quality_grade: ['A','B','C']      % äº§å“è´¨é‡ç­‰çº§
    market_orientation: [0.2,0.8]     % å¸‚åœºåŒ–ç¨‹åº¦
```

#### 3. æœåŠ¡ä¼ä¸šå¼‚è´¨æ€§
```matlab
% å†œä¸šæœåŠ¡ä¼ä¸š
properties_ServiceEnterprise:
    service_types: {'machinery','consulting','protection'}
    service_capacity: [500,2000]      % å¹´æœåŠ¡èƒ½åŠ›
    service_quality: [0.5,0.9]        % æœåŠ¡è´¨é‡
    technical_expertise: [0.4,0.9]    % æŠ€æœ¯ä¸“é•¿
    coverage_radius: [15,30]          % æœåŠ¡åŠå¾„ï¼ˆå…¬é‡Œï¼‰
```

### å¸‚åœºåŒ¹é…æœºåˆ¶

#### è´¨é‡åå¥½å¼‚è´¨æ€§
```matlab
% å†œæˆ·è´¨é‡åå¥½å‡½æ•°
QualityPreference_i = min_quality + (max_quality - min_quality) Ã— 
                     (1 - exp(-elasticity Ã— (Income_i - subsistence_income)))

å…¶ä¸­ï¼š
min_quality = 0.3: æœ€ä½è´¨é‡è¦æ±‚
max_quality = 1.0: æœ€é«˜è´¨é‡åå¥½
elasticity = 0.0001: æ”¶å…¥å¼¹æ€§å‚æ•°
subsistence_income = 30000: åŸºæœ¬ç”Ÿæ´»æ”¶å…¥çº¿
```

#### æœå¯»æˆæœ¬å»ºæ¨¡
```matlab
% æœå¯»æˆæœ¬å‡½æ•°
SearchCost_{ij} = c_base + c_distance Ã— d_{ij} + c_info Ã— InfoAsymmetry_{ij}

å…¶ä¸­ï¼š
c_base = 20: åŸºç¡€æœå¯»æˆæœ¬
c_distance = 0.5: è·ç¦»æˆæœ¬ç³»æ•°
c_info = 15: ä¿¡æ¯ä¸å¯¹ç§°æˆæœ¬
InfoAsymmetry_{ij} = 1 - HistoricalInteraction_{ij}
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

#### 1. åŸºç¡€ä»¿çœŸè¿è¡Œ
```matlab
%% åˆ›å»ºç®€åŒ–çš„æ°”å€™æ”¿ç­–æ¨¡å‹
fprintf('=== ç®€åŒ–ç‰ˆå†œä¸šABMæ¨¡å‹æ¼”ç¤º ===\n');

% åŸºç¡€å‚æ•°è®¾å®š
params = struct();
params.simulation.max_time = 100;
params.enterprises.total_count = 60;  % æ€»ä¼ä¸šæ•°é‡
params.households.count = 300;

% ä¼ä¸šåˆ†å¸ƒï¼ˆç®€åŒ–ä¸º7ç±»ï¼‰
params.enterprises.pesticide_count = 10;    % å†œè¯ä¼ä¸š
params.enterprises.fertilizer_count = 10;   % åŒ–è‚¥ä¼ä¸š  
params.enterprises.processing_count = 10;   % åŠ å·¥ä¼ä¸š
params.enterprises.grain_farm_count = 10;   % ç²®é£Ÿä½œç‰©ä¼ä¸š
params.enterprises.cash_crop_count = 10;    % ç»æµä½œç‰©ä¼ä¸š
params.enterprises.mixed_crop_count = 5;    % æ··åˆä½œç‰©ä¼ä¸š
params.enterprises.service_count = 5;       % å†œä¸šæœåŠ¡ä¼ä¸š

% åˆ›å»ºæ¨¡å‹å®ä¾‹
model = core.MultiAgentClimatePolicyModel(params);

% éªŒè¯ä¼ä¸šæ„æˆ
fprintf('ä¼ä¸šæ„æˆéªŒè¯:\n');
enterprise_types = cellfun(@(e) class(e), model.enterprises, 'UniformOutput', false);
unique_types = unique(enterprise_types);
for i = 1:length(unique_types)
    count = sum(strcmp(enterprise_types, unique_types{i}));
    fprintf('  %s: %dä¸ª\n', unique_types{i}, count);
end

% è¿è¡Œä»¿çœŸ
fprintf('\nå¼€å§‹è¿è¡Œç®€åŒ–ç‰ˆä»¿çœŸ...\n');
tic;
model.run_simulation();
elapsed_time = toc;
fprintf('ä»¿çœŸå®Œæˆï¼Œè€—æ—¶: %.2fç§’\n', elapsed_time);

% ç”Ÿæˆç»“æœæŠ¥å‘Š
model.generate_results_report();
```

#### 2. é¢„æœŸå½¢æˆæœºåˆ¶å®éªŒ
```matlab
%% é¢„æœŸå½¢æˆæœºåˆ¶å®éªŒ
fprintf('=== é¢„æœŸå½¢æˆæœºåˆ¶å®éªŒ ===\n');

% åˆ›å»ºå¸¦é¢„æœŸçš„æ™ºèƒ½ä½“
farmer_with_expectations = agents.FarmerAgentWithExpectations(1, params);
enterprise_with_expectations = agents.EnterpriseAgentWithExpectations(1, params);

% è§‚å¯Ÿé¢„æœŸå½¢æˆè¿‡ç¨‹
for t = 1:12
    % æ¨¡æ‹Ÿå¸‚åœºæ•°æ®
    market_data = struct();
    market_data.price = 2.5 + 0.1 * randn;
    market_data.demand = 1000 + 50 * randn;
    
    % æ›´æ–°é¢„æœŸ
    farmer_with_expectations.update_expectations(market_data, t);
    enterprise_with_expectations.update_expectations(market_data, t);
    
    % æ˜¾ç¤ºé¢„æœŸç»“æœ
    farmer_price_exp = farmer_with_expectations.get_expectation('price', 1);
    enterprise_demand_exp = enterprise_with_expectations.get_expectation('demand', 1);
    
    fprintf('æ—¶é—´æ­¥ %d: å†œæˆ·ä»·æ ¼é¢„æœŸ=%.3f, ä¼ä¸šéœ€æ±‚é¢„æœŸ=%.3f\n', ...
            t, farmer_price_exp, enterprise_demand_exp);
end
```

#### 3. ä¼ä¸šå¼‚è´¨æ€§åˆ†æå®éªŒ
```matlab
%% ä¼ä¸šå¼‚è´¨æ€§å¯¹æ”¿ç­–æ•ˆæœçš„å½±å“åˆ†æ

% === å®éªŒè®¾è®¡ ===
fprintf('=== ä¼ä¸šå¼‚è´¨æ€§æ”¿ç­–æ•ˆæœåˆ†æå®éªŒ ===\n');

% åˆ›å»ºä¸åŒæŠ€æœ¯æ°´å¹³çš„ä¼ä¸šç»„
enterprise_groups = {
    struct('name', 'Low_Tech_Group', ...
           'tech_level_range', [0.2, 0.5], ...
           'rd_intensity_range', [0.005, 0.02], ...
           'quality_investment_range', [0.01, 0.03]),
           
    struct('name', 'High_Tech_Group', ...
           'tech_level_range', [0.6, 0.9], ...
           'rd_intensity_range', [0.03, 0.06], ...
           'quality_investment_range', [0.04, 0.08])
};

% æ”¿ç­–åœºæ™¯
policy_scenarios = {
    struct('name', 'Baseline', 'emission_tax_rate', 0, 'green_subsidy_rate', 0),
    struct('name', 'EmissionTax', 'emission_tax_rate', 0.25, 'green_subsidy_rate', 0),
    struct('name', 'GreenSubsidy', 'emission_tax_rate', 0, 'green_subsidy_rate', 0.15),
    struct('name', 'PolicyMix', 'emission_tax_rate', 0.2, 'green_subsidy_rate', 0.1)
};

% è¿è¡Œå®éªŒ
for i = 1:length(enterprise_groups)
    for j = 1:length(policy_scenarios)
        group = enterprise_groups{i};
        policy = policy_scenarios{j};
        
        fprintf('è¿è¡Œ: %s Ã— %s\n', group.name, policy.name);
        
        % è®¾ç½®æ¨¡å‹å‚æ•°
        model_params = params;
        model_params.policy = policy;
        model_params.enterprise_heterogeneity = group;
        
        % åˆ›å»ºå’Œè¿è¡Œæ¨¡å‹
        model = core.MultiAgentClimatePolicyModel(model_params);
        model.run_simulation();
        
        % è®°å½•ç»“æœ
        results{i,j} = model.collect_results();
        results{i,j}.group_name = group.name;
        results{i,j}.policy_name = policy.name;
    end
end

% åˆ†æç»“æœ
fprintf('\n=== æ”¿ç­–æ•ˆæœå¯¹æ¯” ===\n');
analyze_heterogeneity_results(results);
```

### é«˜çº§åŠŸèƒ½

#### 1. è´¨é‡åŒ¹é…å¸‚åœºå®éªŒ
```matlab
%% è´¨é‡åŒ¹é…vsä»·æ ¼åŒ¹é…æ•ˆæœå¯¹æ¯”

% é…ç½®è´¨é‡åŒ¹é…å¸‚åœº
fprintf('=== è´¨é‡åŒ¹é…ç®—æ³•å®éªŒ ===\n');
model = core.MultiAgentClimatePolicyModel();

% æå–å†œè¯ä¼ä¸šå’Œå†œæˆ·
pesticide_enterprises = model.get_enterprises_by_type('PesticideEnterpriseAgent');
agricultural_demanders = [model.get_enterprises_by_type('GrainFarmAgent'), ...
                         model.get_enterprises_by_type('CashCropFarmAgent'), ...
                         model.get_enterprises_by_type('MixedCropFarmAgent')];

% åˆ›å»ºè´¨é‡åŒ¹é…å¸‚åœº
quality_market = modules.PesticideMarketModule(pesticide_enterprises, agricultural_demanders);
quality_market.search_cost_factor = 0.05;

% æ‰§è¡Œè´¨é‡åŒ¹é…
fprintf('æ‰§è¡Œè´¨é‡åŒ¹é…ç®—æ³•...\n');
[matches, welfare] = quality_market.match_supply_demand_by_quality();

% åˆ†æåŒ¹é…ç»“æœ
match_efficiency = analyze_matching_efficiency(quality_market);
fprintf('åŒ¹é…æ•ˆç‡: %.3f\n', match_efficiency.efficiency);
fprintf('å¹³å‡è´¨é‡åŒ¹é…åº¦: %.3f\n', match_efficiency.quality_match);
fprintf('ä»·æ ¼ç¦»æ•£åº¦: %.3f\n', match_efficiency.price_dispersion);
```

#### 2. æ”¿ç­–å®éªŒè®¾è®¡
```matlab
%% è®¾è®¡æ”¿ç­–å®éªŒ

% åŸºå‡†åœºæ™¯ï¼ˆæ— æ”¿ç­–å¹²é¢„ï¼‰
baseline_scenario = struct();
baseline_scenario.name = 'Baseline';
baseline_scenario.emission_tax_rate = 0;
baseline_scenario.green_subsidy_rate = 0;
baseline_scenario.compliance_penalty_rate = 0;

% æ”¿ç­–å¹²é¢„åœºæ™¯
policy_scenarios = {
    struct('name', 'EmissionTax_Low', 'emission_tax_rate', 0.1, 'green_subsidy_rate', 0),
    struct('name', 'EmissionTax_High', 'emission_tax_rate', 0.3, 'green_subsidy_rate', 0),
    struct('name', 'GreenSubsidy', 'emission_tax_rate', 0, 'green_subsidy_rate', 0.15),
    struct('name', 'PolicyMix', 'emission_tax_rate', 0.2, 'green_subsidy_rate', 0.1)
};

% è¿è¡Œæ‰€æœ‰åœºæ™¯
all_scenarios = [baseline_scenario, policy_scenarios];
scenario_results = run_policy_scenarios(all_scenarios);

% å¯¹æ¯”åˆ†æ
compare_policy_scenarios(scenario_results);
```

## ğŸ”¬ æ ¡å‡†ä¸éªŒè¯

### æ ¡å‡†ç›®æ ‡è®¾å®š
åŸºäºä¸­å›½å†œä¸šç³»ç»Ÿçš„å®é™…æ•°æ®ï¼š

```matlab
calibration_targets = struct(...
    'enterprise_productivity_growth', 0.03, ...     % å¹´å‡3%ç”Ÿäº§ç‡å¢é•¿
    'technology_adoption_rate', 0.15, ...           % 15%æŠ€æœ¯é‡‡ç”¨ç‡
    'market_concentration_hhi', 0.25, ...           % HHIæŒ‡æ•°0.25
    'price_volatility', 0.12, ...                   % 12%ä»·æ ¼æ³¢åŠ¨ç‡
    'emission_reduction_rate', 0.08, ...            % 8%å¹´å‡æ’ç‡
    'quality_premium_range', [0.1, 0.4] ...         % 10%-40%è´¨é‡æº¢ä»·
);
```

### éªŒè¯æŒ‡æ ‡ä½“ç³»

#### 1. ç»Ÿè®¡éªŒè¯
- **RMSE**: é¢„æµ‹ç²¾åº¦
- **MAE**: é¢„æµ‹åå·®  
- **ç›¸å…³ç³»æ•°**: è¶‹åŠ¿ä¸€è‡´æ€§
- **K-Sæ£€éªŒ**: åˆ†å¸ƒä¸€è‡´æ€§

#### 2. æ¨¡å¼åŒ¹é…éªŒè¯
- **ä¼ä¸šè§„æ¨¡åˆ†å¸ƒ**: é‡å°¾ç‰¹å¾
- **ä»·æ ¼æ³¢åŠ¨èšé›†**: æ—¶é—´èšé›†æ€§
- **æŠ€æœ¯æ‰©æ•£æ›²çº¿**: Så‹æ‰©æ•£æ¨¡å¼

#### 3. è¡Œä¸ºéªŒè¯
- **å­¦ä¹ æ›²çº¿**: æ™ºèƒ½ä½“é€‚åº”æ€§
- **å†³ç­–ä¸€è‡´æ€§**: è¡Œä¸ºç¨³å®šæ€§
- **ç½‘ç»œå½¢æˆ**: å…³ç³»ç½‘ç»œæ¼”åŒ–

## ğŸ“Š å®éªŒè®¾è®¡

### æ ¸å¿ƒå®éªŒåœºæ™¯

#### 1. åŸºçº¿åœºæ™¯ï¼ˆBaselineï¼‰
```matlab
baseline_params = struct(...
    'emission_tax_rate', 0, ...
    'green_subsidy_rate', 0, ...
    'compliance_penalty_rate', 0 ...
);
```

#### 2. æ”¿ç­–å†²å‡»å®éªŒ
```matlab
% æ’æ”¾ç¨æ”¿ç­–å†²å‡»
tax_shock_params = struct(...
    'emission_tax_rate', [0.1, 0.2, 0.3], ...
    'implementation_period', 24, ...
    'phase_in_rate', 0.1 ...
);

% ç»¿è‰²è¡¥è´´æ”¿ç­–å†²å‡»  
subsidy_shock_params = struct(...
    'green_subsidy_rate', [0.05, 0.10, 0.15], ...
    'eligibility_threshold', 0.6, ...
    'budget_constraint', 1000000 ...
);
```

#### 3. æŠ€æœ¯å†²å‡»å®éªŒ
```matlab
% å¤–ç”ŸæŠ€æœ¯å†²å‡»
tech_shock_params = struct(...
    'shock_magnitude', 0.2, ...        % 20%æŠ€æœ¯æ°´å¹³æå‡
    'affected_enterprises', 'random', ...  % éšæœºå½±å“ä¼ä¸š
    'diffusion_rate', 0.1 ...          % 10%æ‰©æ•£ç‡
);
```

## ğŸ¯ ä¸»è¦è´¡çŒ®

### 1. ç†è®ºåˆ›æ–°
- **ä¼ä¸šå¼‚è´¨æ€§ç§‘å­¦åŒ–å»ºæ¨¡**ï¼šä»æŠ½è±¡"å“ç‰Œå½±å“åŠ›"è½¬å‘åŸºäºæŠ€æœ¯æ°´å¹³å’Œäº§å“è´¨é‡çš„ç§‘å­¦åŒ–è¡¨å¾
- **è´¨é‡åŒ¹é…å¸‚åœºæœºåˆ¶**ï¼šå®ç°åŸºäºè´¨é‡åå¥½çš„åŒè¾¹æœå¯»åŒ¹é…ç®—æ³•  
- **é¢„æœŸå½¢æˆæœºåˆ¶**ï¼šæ¯ä¸ªæ™ºèƒ½ä½“å…·å¤‡åŸºäºAR(1)çš„è‡ªé€‚åº”å­¦ä¹ èƒ½åŠ›
- **ç®€åŒ–ä½†å®Œæ•´çš„ä¼ä¸šä½“ç³»**ï¼š7ç±»ä¼ä¸šè¦†ç›–å†œä¸šäº§ä¸šé“¾æ ¸å¿ƒç¯èŠ‚

### 2. æ–¹æ³•è®ºè´¡çŒ®
- **å¤šå±‚æ¬¡éªŒè¯ä½“ç³»**ï¼šç»Ÿè®¡éªŒè¯ã€æ¨¡å¼åŒ¹é…ã€è¡Œä¸ºéªŒè¯ã€ç³»ç»ŸéªŒè¯
- **ç³»ç»Ÿæ€§æ ¡å‡†æ¡†æ¶**ï¼šå¤šç›®æ ‡ä¼˜åŒ– + æ•æ„Ÿæ€§åˆ†æ + æ¨¡å‹éªŒè¯
- **æ”¿ç­–å·¥å…·è¯„ä¼°**ï¼šå¤šç»´åº¦æ”¿ç­–æ•ˆæœè¯„ä¼°å’Œä¼˜åŒ–å»ºè®®

### 3. æ”¿ç­–ç ”ç©¶èšç„¦
- **æ°”å€™æ”¿ç­–è¯„ä¼°**ï¼šæ’æ”¾ç¨ã€ç»¿è‰²è¡¥è´´ã€ç¯å¢ƒæ ‡å‡†ç­‰æ”¿ç­–å·¥å…·æ•ˆæœ
- **ä¼ä¸šå¼‚è´¨æ€§å½±å“**ï¼šä¸åŒæŠ€æœ¯æ°´å¹³ä¼ä¸šå¯¹æ”¿ç­–çš„å·®å¼‚åŒ–å“åº”  
- **å¸‚åœºæœºåˆ¶è®¾è®¡**ï¼šåŸºäºè´¨é‡çš„å¸‚åœºåŒ¹é…å¯¹æ”¿ç­–æ•ˆæœçš„å½±å“
- **æŠ€æœ¯æ‰©æ•£åˆ†æ**ï¼šç»¿è‰²æŠ€æœ¯åœ¨å¼‚è´¨æ€§ä¼ä¸šé—´çš„æ‰©æ•£æœºåˆ¶

## ğŸ“ è”ç³»ä¿¡æ¯

**å¼€å‘å›¢é˜Ÿ**ï¼šå¤šæ™ºèƒ½ä½“å»ºæ¨¡ç ”ç©¶ç»„  
**é‚®ç®±**ï¼šresearch@abm-climate.org  
**GitHub**ï¼šhttps://github.com/DCCAISSON/ClimatePolicyABM_Clean  
**æ–‡æ¡£ç½‘ç«™**ï¼šhttps://climate-abm.github.io/docs

---

*æœ€åæ›´æ–°æ—¶é—´ï¼š2024å¹´12æœˆ* | *ç‰ˆæœ¬ï¼š2.0-Simplified*